const minGridCol = 2, maxGridCol = window.innerWidth > 768 ? 12 : 6, minGridGap = 5, maxGridGap = 100, body = document.querySelector("body"); var isEditable = !1, paddingGrid = window.innerWidth > 640 ? "0.9375rem" : "0.625rem", css = `.grid { position: fixed; top: 0; left: 50%; height: 100%; width: 100%; max-width: 75rem; transform: translateX(-50%); pointer-events: none; display: grid; grid-template-columns: repeat(${maxGridCol}, 1fr); grid-gap: 30px; z-index: 99999; border: 1px solid orange; padding: ${paddingGrid}; } .grid--fullWidth { max-width: initial; border: none;} .grid__col { opacity: 0.15; background-color: #000000;} .gridInfos { position: fixed; top: 50%; right: 0; transform: translateY(-50%); color: white; background-color: rgba(0, 0, 0, 0.5); padding: 15px; z-index: 99999; } .gridInfos__item { display: flex; align-items: center; line-height: 1.5; } .gridInfos__property__columns, .gridInfos__property__gutters, .gridInfos__property__fullWidth { width: 90px; } .gridInfos__input__fullWidth { margin: 0; } .cross { position: fixed; top: 0; left: 0; height: 100%; width: 100%; pointer-events: none; z-index: 99999; } .cross__verticalLine { position: absolute; left: 50%; height: 100%; width: 1px; background: orange; } .cross__horizontalLine { position: absolute; top: 50%; height: 1px; width: 100%; background: orange; }`; const head = document.getElementsByTagName("head")[0]; var style = document.createElement("style"); function gridHelper(e) { switch (e.key) { case "g": appendGridHelper(), appendGridInfos(), appendCross(); break; case "Escape": destroyElement(".grid"), destroyElement(".gridInfos"), destroyElement(".cross"); break; case "ArrowLeft": e.preventDefault(), reduceGuttersWidth(); break; case "ArrowRight": e.preventDefault(), increaseGuttersWidth(); break; case "ArrowDown": e.preventDefault(), reduceGridColumns(); break; case "ArrowUp": e.preventDefault(), increaseGridColumns() } } function appendGridHelper() { if (!document.body.contains(document.querySelector(".grid"))) { isEditable = !0; var e = document.createElement("div"); e.classList.add("grid"); for (var t = 0; t < maxGridCol; t++) { var r = document.createElement("div"); r.classList.add("grid__col"), e.appendChild(r) } return body.appendChild(e), isEditable } } function appendGridInfos() { if (!document.body.contains(document.querySelector(".gridInfos"))) { var e = document.createElement("div"); e.classList.add("gridInfos"), (i = document.createElement("div")).classList.add("gridInfos__item"); var t = document.createElement("span"); t.classList.add("gridInfos__property__columns"), t.innerHTML = "Columns :"; var r = document.createElement("span"); r.classList.add("gridInfos__number__columns"), r.innerHTML = maxGridCol, i.appendChild(t), i.appendChild(r), e.appendChild(i), (i = document.createElement("div")).classList.add("gridInfos__item"); var d = document.createElement("span"); d.classList.add("gridInfos__property__gutters"), d.innerHTML = "Gutters :"; var i, n = document.createElement("span"); n.classList.add("gridInfos__number__gutters"), n.innerHTML = "30px", i.appendChild(d), i.appendChild(n), e.appendChild(i), (i = document.createElement("div")).classList.add("gridInfos__item"); var o = document.createElement("span"); o.classList.add("gridInfos__property__fullWidth"), o.innerHTML = "Full width :"; var l = document.createElement("input"); l.setAttribute("type", "checkbox"), l.classList.add("gridInfos__input__fullWidth"), i.appendChild(o), i.appendChild(l), e.appendChild(i), body.appendChild(e), document.querySelector(".gridInfos__input__fullWidth").addEventListener("change", setFullWidthGrid) } } function appendCross() { if (!document.body.contains(document.querySelector(".cross"))) { var e = document.createElement("div"); e.classList.add("cross"); var t = document.createElement("div"); t.classList.add("cross__verticalLine"), e.appendChild(t); var r = document.createElement("div"); r.classList.add("cross__horizontalLine"), e.appendChild(r), body.appendChild(e) } } function destroyElement(e) { isEditable && (document.body.contains(document.querySelector(e)) && (e = document.querySelector(e)).remove()) } function reduceGuttersWidth() { if (isEditable && document.body.contains(document.querySelector(".grid"))) { var e = document.querySelector(".grid"), t = window.getComputedStyle(e).getPropertyValue("grid-gap"), r = document.querySelector(".gridInfos__number__gutters"); (t = parseInt(t)) > minGridGap ? (t -= 5, e.style.gridGap = t + "px", r.textContent = t + "px") : (limitGrid("gutters"), setTimeout(function () { initStyleGrid("gutters") }, 500)) } } function increaseGuttersWidth() { if (isEditable && document.body.contains(document.querySelector(".grid"))) { var e = document.querySelector(".grid"), t = window.getComputedStyle(e).getPropertyValue("grid-gap"), r = document.querySelector(".gridInfos__number__gutters"); (t = parseInt(t)) < maxGridGap ? (t += 5, e.style.gridGap = t + "px", r.textContent = t + "px") : (limitGrid("gutters"), setTimeout(function () { initStyleGrid("gutters") }, 500)) } } function reduceGridColumns() { if (isEditable && document.body.contains(document.querySelector(".grid"))) { var e = document.querySelector(".grid"), t = document.querySelector(".gridInfos__number__columns"), r = document.querySelectorAll(".grid__col"), d = e.lastChild; (r = r.length) > minGridCol ? (e.removeChild(d), r -= 1, e.style.gridTemplateColumns = "repeat(" + r + ", 1fr)", t.textContent = r) : (limitGrid("columns"), setTimeout(function () { initStyleGrid("columns") }, 500)) } } function increaseGridColumns() { if (isEditable && document.body.contains(document.querySelector(".grid"))) { var e = document.querySelector(".grid"), t = document.querySelector(".gridInfos__number__columns"), r = document.querySelectorAll(".grid__col"); if ((r = r.length) < maxGridCol) { var d = document.createElement("div"); d.classList.add("grid__col"), e.appendChild(d), r += 1, e.style.gridTemplateColumns = "repeat(" + r + ", 1fr)", t.textContent = r } else limitGrid("columns"), setTimeout(function () { initStyleGrid("columns") }, 500) } } function limitGrid(e) { if ("columns" == e) for (var t = document.querySelectorAll(".grid__col"), r = 0; r < t.length; r++)t[r].style.backgroundColor = "red"; else if ("gutters" == e) { document.querySelector(".grid").style.backgroundColor = "rgba(255,0,0,0.15)" } } function initStyleGrid(e) { if ("columns" == e) for (var t = document.querySelectorAll(".grid__col"), r = 0; r < t.length; r++)t[r].style.backgroundColor = "#000000"; else if ("gutters" == e) { document.querySelector(".grid").style.backgroundColor = "initial" } } function setFullWidthGrid() { var e = document.querySelector(".grid"); this.checked ? e.classList.add("grid--fullWidth") : e.classList.remove("grid--fullWidth") } head.appendChild(style), style.appendChild(document.createTextNode(css)), window.addEventListener("keydown", gridHelper);